---
title: '16235. ë‚˜ë¬´ ì¬í…Œí¬'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['êµ¬í˜„', 'ì‹œë®¬ë ˆì´ì…˜']
date: '2021-01-17'
---

# ë¬¸ì œ

- [16235. ë‚˜ë¬´ ì¬í…Œí¬](https://www.acmicpc.net/problem/16235)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

public class Q16235 {
    static int n, m, k, dx[] = {-1, -1, 0 ,1 ,1 ,1, 0, -1}, dy[] ={0, 1, 1, 1, 0, -1, -1, -1};
    static int board[][], nut[][];
    static List<Integer> trees[][];
    public static void main(String[] args) throws IOException {
        init();
        solution();
    }

    private static void solution() {
        // ë´„: ì–´ë¦° ë‚˜ë¬´ë¶€í„° ìì‹ ì˜ ë‚˜ì´ë§Œí¼ ì–‘ë¶„ì„ ë¨¹ê³  ë‚˜ì´ê°€ 1ì¦ê°€. ëª»ë¨¹ìœ¼ë©´ ì£½ìŒ
        // ì—¬ë¦„ : ì£½ì€ ë‚˜ë¬´ì˜ ë‚˜ì´/2 ë§Œí¼ì´ í•´ë‹¹ ì¹¸ì— ì–‘ë¶„ìœ¼ë¡œ ë°”ë€œ
        // ê°€ì„ : ë‚˜ì´ê°€ 5ì˜ ë°°ìˆ˜ì´ë©´ 8ë°©í–¥ìœ¼ë¡œ ë‚˜ì´1ì¸ ë‚˜ë¬´ë¥¼ ë¿Œë¦¼
        // ê²¨ìš¸ : A[r][c] ë§Œí¼ ê° ì¹¸ì— ì–‘ë¶„ ì¶”ê°€.
        // TODO: k ë…„ í›„, ì‚´ì•„ìˆëŠ” ë‚˜ë¬´ì˜ ê°œìˆ˜ ì¶œë ¥í•˜ì
        int ans = 0;
        while(k-- > 0){
            boolean breeding = false;
            breeding = spring_summer();
            autumn_winter(breeding);
        }

        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++)
                if (!trees[i][j].isEmpty()) ans += trees[i][j].size();
        }
        System.out.println(ans);
    }

    private static void autumn_winter(boolean breeding) {
        // autumn
        if(breeding){
            for (int i = 0; i < n; i++) {
                for (int j = 0; j < n; j++) {
                    List<Integer> tree = trees[i][j];
                    for (int l = 0; l < tree.size(); l++) {
                        if (tree.get(l) % 5 == 0)
                            breed(i, j);
                    }
                }
            }
        }
        // winter
        for (int i = 0; i < n; i++)
            for (int j = 0; j < n; j++)
                board[i][j] += nut[i][j];
    }

    private static boolean spring_summer() {
        boolean breeding = false;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                if (!trees[i][j].isEmpty()) {
                    List<Integer> tree = trees[i][j];
                    // ë‚˜ì´ ìˆœìœ¼ë¡œ ì •ë ¬
                    Collections.sort(tree, new Comparator<Integer>() {
                        @Override
                        public int compare(Integer o1, Integer o2) {
                            return o1 - o2;
                        }
                    });
                    // spring
                    int plus = 0;
                    for (int p = 0; p < tree.size(); ++p) {
                        int old = tree.get(p);
                        if (board[i][j] - old < 0) { // tree die
                            tree.remove(p);
                            p -= 1;
                            plus += (old / 2);
                        } else {
                            board[i][j] -= old;
                            tree.set(p, old + 1);
                            if ((old + 1) % 5 == 0) breeding = true;
                        }
                    }
                    // summer : nutrient increase
                    board[i][j] += plus;
                }
            }
        }
        return breeding;
    }

    private static void breed(int x, int y) {
        for (int i = 0; i < 8; i++) {
            int nx = x + dx[i], ny = y + dy[i];
            if(nx >= 0 && nx < n && ny >= 0 && ny < n)
                trees[nx][ny].add(1);
        }
    }

    private static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        k = Integer.parseInt(st.nextToken());
        board = new int[n][n];
        nut = new int[n][n];
        trees = new ArrayList[n][n];
        for (int i = 0; i < n; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < n; j++) {
                board[i][j] = 5;
                nut[i][j] = Integer.parseInt(st.nextToken());
                trees[i][j] = new ArrayList<>();
            }
        }
        for (int i = 0; i < m; i++) {
            st = new StringTokenizer(br.readLine());
            int x = Integer.parseInt(st.nextToken()) - 1, y = Integer.parseInt(st.nextToken()) - 1;
            int old = Integer.parseInt(st.nextToken());
            trees[x][y].add(old);
        }
        // x, y, z : ì¢Œí‘œ, ë‚˜ë¬´ì˜ ë‚˜ì´.
    }
}
```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> ê°„ë‹¨í•œ êµ¬í˜„ì´ì—ˆëŠ”ë° ë§ˆì§€ë§‰ì— ë¦¬ìŠ¤íŠ¸ì—ì„œ remove í•˜ê³  ê·¸ëŒ€ë¡œ ì¸ë±ìŠ¤ë¥¼ +1 ì‹œì¼œë²„ë ¤ì„œ í•œê°œì”© ë›°ì–´ë„˜ëŠ” ë¬¸ì œì  ë•Œë¬¸ì— í•œì°¸ í—¤ë§¸ë‹¤. <br/>
> ìë°” ì»¬ë ‰ì…˜ì— ëŒ€í•´ì„œ ë†“ì¹˜ê¸° ì‰¬ìš´ ë¶€ë¶„ì„ ë‹¤ì‹œ í•™ìŠµí•  ìˆ˜ ìˆì–´ ì¢‹ì•˜ë‹¤.

## í’€ì´ ğŸ“£

<hr/>
1ï¸âƒ£ 10*10 ë°°ì—´ì„ 2ê°œ ë§Œë“¤ê³ , í•˜ë‚˜ëŠ” ê·¸ë•Œë§ˆë‹¤ ë³€í™”í•˜ëŠ” ì˜ì–‘ë¶„ì„ ì €ì¥í•˜ëŠ” ë°°ì—´, ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ê²¨ìš¸ì— ê° ì¹¸ë§ˆë‹¤ ëŠ˜ì–´ë‚˜ëŠ” ì˜ì–‘ë¶„ì„ ì €ì¥í•˜ëŠ” ë°°ì—´ë¡œ ì‚¬ìš©í•œë‹¤. <br/>

2ï¸âƒ£ n\*n ë¦¬ìŠ¤íŠ¸ ë°°ì—´ì„ ë§Œë“¤ê³ , ê° ì¹¸ì— ì‹¬ì–´ì ¸ìˆëŠ” ë‚˜ë¬´ë“¤ì„ ì €ì¥í•œë‹¤ -> `List<Integer> trees[n][n]` .

3ï¸âƒ£ ë‚˜ë¬´ê°€ ì‹¬ì–´ì ¸ìˆëŠ” ìœ„ì¹˜ë¶€í„° í•´ì„œ ê³„ì ˆ ë³„ë¡œ ì·¨í•´ì•¼í•  í–‰ìœ„ë“¤ì„ ìˆ˜í–‰í•œë‹¤.

    ë´„ - ê° ì¹¸ì— ë¦¬ìŠ¤íŠ¸ì— ì €ì¥ë˜ì–´ ìˆëŠ” ë‚˜ë¬´ë“¤ì„ ë‚˜ì´ì˜ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤. ì˜ì–‘ë¶„ í¡ìˆ˜, ì˜ì–‘ë¶„ì´ ë¶€ì¡±í•œ ë‚˜ë¬´ëŠ” ì œê±°
    ì—¬ë¦„ - ë´„ì— ì£½ì€ ë‚˜ë¬´ë“¤ì˜ ë‚˜ì´/2 ë§Œí¼ í•´ë‹¹ ì¹¸ì— ì˜ì–‘ë¶„ìœ¼ë¡œ ë°”ë€œ.
    ê°€ì„ - ë‚˜ì´ê°€ 5ì˜ ë°°ìˆ˜ì¸ ë‚˜ë¬´ë“¤ì€ 8ë°©í–¥ìœ¼ë¡œ ë‚˜ì´ê°€ 1ì¸ ë‚˜ë¬´ë“¤ì„ ì‹¬ì–´ì¤€ë‹¤.
    ê²¨ìš¸ - ì²˜ìŒ ê° ì¹¸ì— ì§€ì •ëœ ì˜ì–‘ë¶„ ì–‘ë§Œí¼ ì¦ê°€ì‹œì¼œì¤€ë‹¤.

4ï¸âƒ£ ì…ë ¥ë°›ì€ í•´ ë§Œí¼ ë°˜ë³µí•´ì„œ ê° ì¹¸ì— ì‚´ì•„ë‚¨ì€ ë‚˜ë¬´ë“¤ì˜ ê°œìˆ˜ë¥¼ íŒŒì•…í•œë‹¤. -> `ans += list[i][j].size()` <br/>

<hr/>

## ì‹¤ìˆ˜ ğŸ˜…

- ë¦¬ìŠ¤íŠ¸ì—ì„œ removeë¥¼ í•˜ê³  ë‚˜ë©´ í˜„ì¬ ì¸ë±ìŠ¤ì— ê°’ì´ remove ì´ì „ì— ë‹¤ìŒ ì¸ë±ìŠ¤ì˜ ê°’ì„ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.
- ì´ ì ì„ ê°„ê³¼í•˜ê³ , remove í›„ì—ë„ ê³„ì† forë¬¸ì„ ë°˜ë³µí•˜ë©´ì„œ idx+1 ì”© ì¦ê°€ì‹œì¼œì¤˜ì„œ ì¤‘ê°„ ì¤‘ê°„ì— ë¹ ì§€ëŠ” ê°’ë“¤ì´ ìƒê¸°ëŠ” ê²ƒì„ ê°„ê³¼í–ˆë‹¤.
