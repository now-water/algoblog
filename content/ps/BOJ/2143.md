---
title: '2143. ë‘ ë°°ì—´ì˜ í•©'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['ì´ë¶„ íƒìƒ‰', 'ëˆ„ì í•©']
date: '2021-06-21'
---

# ë¬¸ì œ

- [2143. ë‘ ë°°ì—´ì˜ í•©](https://www.acmicpc.net/problem/2143)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.StringTokenizer;

public class Q2143 {
    static int t, n, m;
    static long arr[], brr[];
    static long psA[], psB[];
    static List<Long> pSumA = new ArrayList<>();
    static List<Long> pSumB = new ArrayList<>();
    public static void main(String[] args) throws IOException {
        init();
        solution();
    }

    private static void solution() {
        calculatePsum();
        long ans = 0;
        for (int i = 0; i < pSumA.size(); i++) {
            long value = t - pSumA.get(i);
            int left = lowerBinarySearch(value);
            int right = upperBinarySearch(value);
            if(left == -1 || right == -1) continue;
            ans += (right - left + 1);
        }
        System.out.println(ans);
    }

    private static int upperBinarySearch(long target) {
        int ret = -1;
        int left = 0, right = pSumB.size() - 1;

        while(left <= right){
            int mid = (left + right)/2;
            if(pSumB.get(mid) > target){
                right = mid - 1;
            } else{
                if(pSumB.get(mid) == target) ret = mid;
                left = mid + 1;
            }
        }
        return ret;
    }

    private static int lowerBinarySearch(long target) {
        int ret = -1;
        int left = 0, right = pSumB.size() - 1;

        while(left <= right){
            int mid = (left + right)/2;
            if(pSumB.get(mid) >= target){
                if(pSumB.get(mid) == target) ret = mid;
                right = mid - 1;
            } else {
                left = mid + 1;
            }
        }
        return ret;
    }

    private static void calculatePsum() {
        // ê°€ëŠ¥í•œ ëª¨ë“  ë¶€ë¶„í•©ì„ êµ¬í•¨.
        for (int i = 1; i <= n; i++) {
            for (int j = i; j <= n; j++) {
                pSumA.add(psA[j] - psA[i-1]);
            }
        }
        for (int i = 1; i <= m; i++) {
            for (int j = i; j <= m; j++) {
                pSumB.add(psB[j] - psB[i-1]);
            }
        }
        // ëª¨ë“  ë¶€ë¶„í•©ë“¤ì˜ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
        Collections.sort(pSumA);
        Collections.sort(pSumB);
    }

    private static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        t = stoi(br.readLine());

        n = stoi(br.readLine());
        arr = new long[n+1];
        psA = new long[n+1];

        StringTokenizer st = new StringTokenizer(br.readLine());
        for (int i = 1; i <= n; i++) {
            arr[i] = stoi(st.nextToken());
            psA[i] = arr[i] + psA[i-1];
        }

        m = stoi(br.readLine());
        brr = new long[m+1];
        psB = new long[m+1];

        st = new StringTokenizer(br.readLine());
        for (int i = 1; i <= m; i++) {
            brr[i] = stoi(st.nextToken());
            psB[i] = brr[i] + psB[i-1];
        }
    }

    private static int stoi(String str) {
        return Integer.parseInt(str);
    }
}

```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> ì²˜ìŒì— `ë”ë¸” íˆ¬ í¬ì¸í„°` ë¼ëŠ” ê´´ìƒí•œ ì ‘ê·¼ë²•ìœ¼ë¡œ ë„ì „í–ˆë‹¤ê°€ ì¤‘ê°„ì— ëˆ„ì í•©ì„ êµ¬í•´ë†“ê³  ì´ë¶„ íƒìƒ‰ìœ¼ë¡œ ë²”ìœ„ë¥¼ ì°¾ì•„ë‚´ëŠ” ë°©ë²•ì„ ë– ì˜¬ë ¸ë‹¤.
>
> ê°’ ì¤‘ì— ìŒìˆ˜ ê°’ì´ ì¡´ì¬í•  ìˆ˜ ìˆìŒì„ ë†“ì³ì„œ ì˜¤ë˜ ê±¸ë ¸ë‹¤..... ì‹œê°„ì„ ì¡°ê¸ˆ ë” ë‹¨ì¶•í•˜ê³ ì ê±¸ì–´ì¤¬ë˜ ê°€ì§€ì¹˜ê¸° ì¡°ê±´ì´ ë°œëª©ì„ ì¡ì•˜ë‹¤.

## í’€ì´ ğŸ“£

<hr/>

1ï¸âƒ£ A ë°°ì—´ê³¼ B ë°°ì—´ì˜ ê°ê° ë¶€ë¶„í•© ë°°ì—´ì„ êµ¬í•œë‹¤.

    - ì…ë ¥ì„ ë°›ìœ¼ë©° ê° ë°°ì—´ì˜ ë¶€ë¶„í•© ë°°ì—´ë„ í•¨ê»˜ ê³„ì‚°í•´ì¤€ë‹¤.

2ï¸âƒ£ ì´í›„ A ë°°ì—´ê³¼ B ë°°ì—´ì—ì„œ ê°ê° ë¶€ ë°°ì—´ì„ êµ¬í•´ì¤€ë‹¤.

    - ë¬¸ì œì—ì„œ ì¸ì ‘í•œ ê°’ì˜ í•©ì„ ê°–ëŠ” ë°°ì—´ì„ ë¶€ ë°°ì—´ì´ë¼ ì •ì˜í•˜ì˜€ë‹¤

    - êµ¬í•´ ë†“ì€ ë¶€ë¶„í•©ì„ ì´ìš©í•´ì„œ 2ì¤‘ í¬ë¬¸ì„ ì´ìš©í•´ì„œ ë¶€ ë°°ì—´ì„ êµ¬í•´ì¤€ë‹¤.

    - ê° ë¶€ ë°°ì—´ë“¤ì€ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•´ì¤€ë‹¤.

3ï¸âƒ£ ë°˜ë³µë¬¸ì„ ëŒë©° Aì˜ ë¶€ ë°°ì—´ ì¤‘ í•˜ë‚˜ë¥¼ ê³¨ë¼ì„œ í•©ì´ T ê°€ ë˜ëŠ” B ì˜ ë¶€ ë°°ì—´ ì›ì†Œë¥¼ ì°¾ëŠ”ë‹¤.

    - ê·¸ë¦¬ê³  ê·¸ëŸ¬í•œ ì›ì†Œì˜ ê°œìˆ˜ë¥¼ ì°¾ì•„ì„œ ì¹´ìš´íŠ¸í•´ì¤€ë‹¤.

    - ê°œìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•´ì„œ lower_bound ì™€ upper_bound ë¥¼ êµ¬í•´ì„œ, êµ¬ê°„ì˜ ê¸¸ì´ë§Œí¼ì„ ì¹´ìš´íŠ¸í•´ì£¼ë©´ ëœë‹¤.

    - ë”°ë¼ì„œ (A ë¶€ë°°ì—´ ì›ì†Œ + B ë¶€ë°°ì—´ ì›ì†Œ = T) ê°€ ë˜ëŠ” B ë¶€ë°°ì—´ ì›ì†Œë¥¼ ì°¾ê¸° ìœ„í•´ ì´ë¶„ íƒìƒ‰ì„ ì‹¤í–‰í•œë‹¤.

4ï¸âƒ£ ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ì°¾ì•„ì„œ ì¶œë ¥í•´ì¤€ë‹¤.

## ì‹¤ìˆ˜ ğŸ˜…

<hr/>

- ë¶€ë¶„í•© + ë¶€ë°°ì—´ êµ¬í•˜ëŠ” ê³¼ì •ì„ ë¶ˆí•„ìš”í•˜ê²Œ ê¸¸ê²Œ ì‘ì„±í•˜ì˜€ë˜ ë¶€ë¶„ì„ ë¦¬íŒ©í† ë§í•˜ì˜€ë‹¤.

* íƒìƒ‰ íšŸìˆ˜ë¥¼ ì¤„ì—¬ì£¼ê¸° ìœ„í•œ ê°€ì§€ì¹˜ê¸° ì¡°ê±´ìœ¼ë¡œ `if(T - A ë¶€ë°°ì—´ ì›ì†Œ < 0)` ì¼ ê²½ìš° íƒìƒ‰ì„ ì¢…ë£Œì‹œì¼œì£¼ì—ˆë‹¤.

  - ë¶€ë°°ì—´ ì›ì†Œ ì¤‘ì— ìŒìˆ˜ê°€ í¬í•¨ë  ìˆ˜ ìˆì–´ì„œ ì• ì´ˆì— ì € ì¡°ê±´ì€ íƒìƒ‰ì„ í•˜ë‹¤ ë§ˆëŠ” ê²°ê³¼ë¥¼ ì´ˆë˜í•˜ì˜€ë‹¤..

  - ì´ê±° ë•Œë¬¸ì— ë„ˆë¬´ ë§ì€ ì‹œê°„ì„ ë‚­ë¹„í–ˆë‹¤.
