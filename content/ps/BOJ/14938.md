---
title: '14938. ì„œê°• ê·¸ë¼ìš´ë“œ'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['ê·¸ë˜í”„ ì´ë¡ ', 'ë‹¤ìµìŠ¤íŠ¸ë¼', 'í”Œë¡œì´ë“œ-ì™€ìƒ¬']
date: '2021-02-22'
---

# ë¬¸ì œ

- [14938. ì„œê°•ê·¸ë¼ìš´ë“œ](https://www.acmicpc.net/problem/14938)

## ì½”ë“œ

<details><summary> í”Œë¡œì´ë“œ-ì™€ìƒ¬ í’€ì´ </summary>

![image](https://user-images.githubusercontent.com/51476083/108365802-f6d8b900-723a-11eb-889e-c5e454b6d329.png)

```java
import java.awt.Point;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

public class Q14938 {
    static int n, m, r, itemCount[];
    static int adj[][];

    public static void main(String[] args) throws IOException {
        init();
        solution();
    }

    private static void solution() {
        int ans = 0;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                for (int k = 0; k < n; k++) {
                    if(j == k) continue;
                    adj[j][k] = Math.min(adj[j][k], adj[j][i] + adj[i][k]);
                }
            }
        }
        for (int i = 0; i < n; i++) {
            int temp = itemCount[i];
            for (int j = 0; j < n; j++) {
                if(i == j) continue;
                if(adj[i][j] <= m)
                    temp += itemCount[j];
            }
            ans = Math.max(ans, temp);
        }
        System.out.println(ans);
    }

    static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = stoi(st.nextToken());
        m = stoi(st.nextToken());
        r = stoi(st.nextToken());
        adj = new int[n][n];
        itemCount = new int[n];

        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < n; i++) {
            itemCount[i] = stoi(st.nextToken());
            Arrays.fill(adj[i], 987654321);
            adj[i][i] = 0;
        }

        for (int i = 0; i < r; i++) {
            st = new StringTokenizer(br.readLine());
            int u = stoi(st.nextToken()) - 1;
            int v = stoi(st.nextToken()) - 1;
            int len = stoi(st.nextToken());
            adj[u][v] = adj[v][u] = len;
        }
    }

    static int stoi(String st) {
        return Integer.parseInt(st);
    }
}

```

</details>

<br/>

<details><summary> BFS í’€ì´ </summary>

![image](https://user-images.githubusercontent.com/51476083/108365710-ddd00800-723a-11eb-979d-00454cb05c54.png)

```java
import java.awt.Point;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

public class Main {
    static int n, m, r, itemCount[];
    static List<Point> adj[];
    static boolean visited[];
    public static void main(String[] args) throws IOException {
        init();
        solution();
    }

    static void solution() {
        int ans = 0;
        for (int i = 0; i < n; i++) {
            visited[i] = true;
            ans = Math.max(ans, bfs(i));
            Arrays.fill(visited, false);
        }
        System.out.println(ans);
    }

    static int bfs(int start) {
        int ret = itemCount[start];
        Queue<Point> q = new LinkedList<>();
        q.add(new Point(start, 0));

        while(!q.isEmpty()){
            Point edge = q.poll();
            int here = edge.x, cost = edge.y;
            for (int i = 0; i < adj[here].size(); i++) {
                Point p = adj[here].get(i);
                int next = p.x, nextCost = p.y;
                if(cost + nextCost <= m){
                    q.add(new Point(next, cost + nextCost));
                    if(!visited[next])
                        ret += itemCount[next];
                    visited[next] = true;
                }
            }
        }
        return ret;
    }

    static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = stoi(st.nextToken());
        m = stoi(st.nextToken());
        r = stoi(st.nextToken());
        adj = new List[n];
        itemCount = new int[n];
        visited = new boolean[n];
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < n; i++) {
            itemCount[i] = stoi(st.nextToken());
            adj[i] = new ArrayList<>();
        }
        for (int i = 0; i < r; i++) {
            st = new StringTokenizer(br.readLine());
            int u = stoi(st.nextToken()) - 1;
            int v = stoi(st.nextToken()) - 1;
            int len = stoi(st.nextToken());
            adj[u].add(new Point(v, len));
            adj[v].add(new Point(u, len));
        }
    }

    static int stoi(String st) {
        return Integer.parseInt(st);
    }
}
```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> ì•ì„  ë‘ ë¬¸ì œë³´ë‹¤ ê°„ë‹¨í•´ì„œ ë‹¤í–‰ì´ì—ˆë‹¤. ë‹¨ìˆœí•œ ê·¸ë˜í”„ + ìµœë‹¨ê²½ë¡œ ì‚¬ìš©í•˜ëŠ” ë¬¸ì œì—¬ì„œ ìˆ˜ì›”í–ˆë‹¤.

## í’€ì´ ğŸ“£

<hr/>

1ï¸âƒ£ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸(BFSí’€ì´) / ì¸ì ‘ í–‰ë ¬(í”Œë¡œì´ë“œ-ì™€ìƒ¬ í’€ì´) ì„ ì €ì¥í•´ì„œ ë…¸ë“œ ê°„ ê°„ì„ ì˜ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.

    - ì–‘ë°©í–¥ ê°„ì„ ì´ë¯€ë¡œ ì–‘ìª½ ë…¸ë“œì—ì„œ ê°„ì„ ì„ ì¶”ê°€í•´ì¤€ë‹¤.

    - ë…¸ë“œì˜ ê°œìˆ˜ê°€ 100 ì´í•˜ì—¬ì„œ O(N^3) ì¸ í”Œë¡œì´ë“œ-ì™€ìƒ¬ ìµœë‹¨ê²½ë¡œë„ ì‹œê°„ì ìœ¼ë¡œ ì¶©ë¶„í•˜ë‹¤.

2ï¸âƒ£ BFS í’€ì´ - ë°©ë¬¸í–ˆë˜ ë…¸ë“œì— ëŒ€í•´ì„œ ë” ì§§ì€ ê²½ë¡œë¡œ ì˜¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì²« ë°©ë¬¸ì‹œì—ë§Œ ì•„ì´í…œì˜ ê°œìˆ˜ë¥¼ ë”í•´ì£¼ê³  ì¬ ë°©ë¬¸ì‹œì—ëŠ” ë” ì§§ì€ ê²½ë¡œì¼ ê²½ìš°ë§Œ íì— ë‹¤ì‹œ ë„£ì–´ì¤€ë‹¤.

    - ì¼ë°˜ì ì¸ ë°©ë²•ìœ¼ë¡œ ì¬ë°©ë¬¸ ì‹œì— ì¬íƒìƒ‰ì„ í•˜ì§€ ì•Šìœ¼ë©´, ì´ë¯¸ ë°©ë¬¸í–ˆë˜ ë…¸ë“œì˜ ê²½ë¡œê°€ ë‹¨ì¶•ë  ê²½ìš° ë” ë§ì€ ë…¸ë“œë¥¼ íƒìƒ‰í•  ê¸°íšŒë¥¼ ë°°ì œí•˜ê²Œ ëœë‹¤

3ï¸âƒ£ í”Œë¡œì´ë“œ-ì™€ìƒ¬ í’€ì´ - ê° ë…¸ë“œì—ì„œ ë¶€í„° ëª¨ë“  ë…¸ë“œê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ë¯¸ë¦¬ êµ¬í•´ë†“ëŠ”ë‹¤.

    - íŠ¹ì • ë…¸ë“œë¥¼ ê²½ìœ í•´ì„œ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë…¸ë“œ ê°„ì— ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•œë‹¤.

    - ê° ë…¸ë“œì—ì„œ ë‹¤ë¥¸ ëª¨ë“  ë…¸ë“œê¹Œì§€ m ì´í•˜ì˜ ê²½ë¡œë¡œ ë„ë‹¬í•  ìˆ˜ ìˆë‹¤ë©´ í•´ë‹¹ ë…¸ë“œì˜ ì•„ì´í…œì˜ ê°œìˆ˜ë¥¼ ë”í•´ì¤€ë‹¤.

4ï¸âƒ£ ìµœì¢…ì ìœ¼ë¡œ êµ¬í•œ ìµœëŒ€ ì•„ì´í…œì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

## ì‹¤ìˆ˜ ğŸ˜…

- BFS í’€ì´ ë°©ì‹ì—ì„œ ë‹¨ìˆœíˆ ì¬ë°©ë¬¸ì„ ë°°ì œí•˜ê³  ì œì¶œí–ˆë‹¤ê°€ í‹€ë ¤ì„œ ìƒê°í•´ë³´ë‹ˆ, ì´ë¯¸ ë°©ë¬¸í–ˆë˜ ë…¸ë“œê¹Œì§€ ë” ì§§ì€ ê²½ë¡œê°€ ì¡´ì¬í•´ ë‹¤ë¥¸ ë…¸ë“œë¡œ ë” ì´ë™í•  ìˆ˜ë„ ìˆìŒì„ ì•Œì•„ì°¨ë ¸ë‹¤.
