---
title: '19237. ì–´ë¥¸ìƒì–´'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['êµ¬í˜„', 'ì‹œë®¬ë ˆì´ì…˜']
date: '2021-02-04'
---

# ë¬¸ì œ

- [19237.ì–´ë¥¸ ìƒì–´](https://www.acmicpc.net/problem/19237)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

class Pair {
    int fishIdx, when;

    public Pair(int fishIdx, int when) {
        this.fishIdx = fishIdx;
        this.when = when;
    }
}
class Shark {
    int x, y, dir;

    public Shark(int x, int y, int dir) {
        this.x = x;
        this.y = y;
        this.dir = dir;
    }
}
public class Q19237 {
    static int n, m, k, board[][], dx[] = {0, -1, 1, 0, 0}, dy[] = {0, 0, 0, -1, 1};
    static int priority[][][];
    static Pair smell[][];
    static Shark shark[];
    static boolean dead[];
    public static void main(String[] args) throws IOException {
        init();
        solution();
    }

    private static void solution() {
        int time = 0;
        while (time++ <= 1000) {
            // ëƒ„ìƒˆë¥¼ ë¿Œë¦¼ - ëƒ„ìƒˆë¥¼ ë¿Œë¦° ìƒì–´ì™€ ì‹œê°ì„ ì €ì¥
            bbung(time);

            // ìƒì–´ ì´ë™ - í˜„ì¬ ë°©í–¥ì— ë”°ë¥¸ ìš°ì„ ìˆœì— ë”°ë¼ ë°©í–¥ ì„ íƒ
            sharkMove(time);

            // ê²¹ì¹˜ëŠ” ìƒì–´ ì«“ì•„ëƒ„ - ìˆ«ìê°€ ë‚®ì„ìˆ˜ë¡ ê°•í•˜ë‹¤.
            kick();

            // ì¢…ë£Œ ì¡°ê±´ : ë²ˆí˜¸ê°€ 1ì¸ ìƒì–´ë§Œ board ì•ˆì— ì¡´ì¬.
            if (isFinished(dead)) break;
        }
        if(time > 1000) System.out.println(-1);
        else System.out.println(time);
    }

    private static void bbung(int time) {
        for (int i = 1; i <= m; i++) {
            if(dead[i]) continue;
            smell[shark[i].x][shark[i].y] = new Pair(i, time);
        }
    }

    private static void kick() {
        int state[][] = new int[n][n];
        for (int i = 1; i <= m; i++) {
            if(dead[i]) continue;
            Shark it = shark[i];
            int x = it.x, y = it.y;
            if(state[x][y] > 0){ // ì´ë¯¸ ë‹¤ë¥¸ ìƒì–´ê°€ ë“¤ì–´ ìˆë‹¤ë©´
                if(state[x][y] > i){
                    dead[state[x][y]] = true;
                    state[x][y] = i;
                    board[x][y] = i;
                }
                else dead[i] = true;
            }
            else {
                state[x][y] = i; // ë¹ˆ ì¹¸ì´ë©´ í˜„ì¬ ìƒì–´ ì €ì¥
                board[x][y] = i;
            }
        }
    }

    private static void sharkMove(int time) {
        for (int i = 1; i <= m; i++) {
            if(dead[i]) continue;
            Shark it = shark[i];
            boolean canGo = false;
            for (int j = 1; j <= 4; j++) {
                int dir = priority[i][it.dir][j];
                int nx = it.x + dx[dir], ny = it.y + dy[dir];
                if (!isBorder(nx, ny)) continue;

                // ì•„ì§ ëƒ„ìƒˆê°€ ë‚¨ì•„ ìˆëŠ”ì§€ í™•ì¸
                if (smell[nx][ny] != null) {
                    if (time - smell[nx][ny].when >= k) {
                        canGo = true;
                    } else continue;
                }
                else {
                    canGo = true;
                }
                if (canGo) {
                    board[it.x][it.y] = 0;
                    board[nx][ny] = i;
                    it.x = nx;
                    it.y = ny;
                    it.dir = dir;
                    break;
                }
            }
            if (!canGo) { // ìì‹ ì˜ ëƒ„ìƒˆê°€ ìˆëŠ” ë°©í–¥ìœ¼ë¡œ ì´ë™
                for (int j = 1; j <= 4; j++) {
                    int dir = priority[i][it.dir][j];
                    int nx = it.x + dx[dir], ny = it.y + dy[dir];
                    if(isBorder(nx, ny) && smell[nx][ny].fishIdx == i) {
                        board[it.x][it.y] = 0;
                        it.x += dx[dir];
                        it.y += dy[dir];
                        it.dir = dir;
                        board[it.x][it.y] = i;
                        break;
                    }
                }
            }
        }
    }

    private static boolean isFinished(boolean[] dead) {
        for (int i = 2; i <= m; i++) if (!dead[i]) return false;
        return true;

    }

    private static boolean isBorder(int x, int y) {
        return (x >= 0 && x < n && y >= 0 && y < n);
    }

    static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        k = Integer.parseInt(st.nextToken());

        shark = new Shark[m + 1];
        board = new int[n][n];
        priority = new int[m + 1][5][5];
        smell = new Pair[n][n];
        dead = new boolean[m + 1];

        for (int i = 0; i < n; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < n; j++) {
                board[i][j] = Integer.parseInt(st.nextToken());
                if (board[i][j] != 0)
                    shark[board[i][j]] = new Shark(i, j, 0);
            }
        }
        st = new StringTokenizer(br.readLine());
        for (int i = 1; i <= m; i++) shark[i].dir = Integer.parseInt(st.nextToken());
        for (int s = 1; s <= m; s++) {
            for (int dir = 1; dir <= 4; dir++) {
                st = new StringTokenizer(br.readLine());
                for (int p = 1; p <= 4; p++)
                    priority[s][dir][p] = Integer.parseInt(st.nextToken());
            }
        }
    }
}
```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> ë“œë””ì–´ ì•„ê¸° ìƒì–´ê°€ ë‹¤ ì„±ì¥í–ˆë‹¤.. ë‚´ê°€ ê´œíˆ ë¿Œë“¯í•˜ë‹¤.
>
> ì²­ì†Œë…„ê¸°ì— ê³ ìƒì¢€ í–ˆë”ë‹ˆ ì–´ë¥¸ì´ ë˜ì„œëŠ” í• ë§Œí–ˆë‹¤! í•œë°©ì— í†µê³¼í•´ì„œ ê¸°ë¶„ì´ ì¢‹ì•˜ë‹¤.

## í’€ì´ ğŸ“£

<hr/>

1ï¸âƒ£ ìƒì–´ì˜ `ë ˆë²¨` ì„ ì¸ë±ìŠ¤ë¡œ í‘œí˜„í•˜ê³  ìœ„ì¹˜ë¥¼ ì €ì¥í•œë‹¤. ì´ ë•Œ ë ˆë²¨ì´ ë‚®ì„ìˆ˜ë¡ ê°•ë ¥í•´ì„œ ë” ë†’ì€ ìƒì–´ì™€ ê°™ì€ ì¹¸ì— ìˆìœ¼ë©´ ë†’ì€ ë ˆë²¨ì˜ ìƒì–´ë“¤ì´ ê²©ì ë°–ìœ¼ë¡œ ì«“ê²¨ë‚œë‹¤.

    - ì«“ê²¨ë‚œ ìƒì–´ í‘œì‹œ :: dead[ìƒì–´] = true

2ï¸âƒ£ ìƒì–´ëŠ” í˜„ì¬ ë°©í–¥ì— ê´€í•œ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì´ë™ìˆœì„œë¥¼ ì •í•´ ì´ë™í•œë‹¤.

    - ìƒì–´ëŠ” ì´ë™í•˜ê¸° ì „ì— ìì‹ ì˜ ëƒ„ìƒˆë¥¼ ë¿Œë¦°ë‹¤.

    - 1ì´ˆë§ˆë‹¤ ëª¨ë“  ìƒì–´ë“¤ì´ ì´ë™ì„ í•˜ë©°, ê° ì¹¸ì— ë¿Œë ¤ë†“ì€ ëƒ„ìƒˆëŠ” k ì´ˆê°€ ì§€ë‚˜ì•¼ ì‚¬ë¼ì§„ë‹¤.

    - ê°™ì€ ì¹¸ì— ë“¤ì–´ìˆëŠ” ìƒì–´ë“¤ì€ ê°€ì¥ ë‚®ì€ ë ˆë²¨ë§Œ ë‚¨ê³  ë‚˜ë¨¸ì§€ ìƒì–´ë“¤ì€ ëª¨ë‘ ê²©ì ë°–ìœ¼ë¡œ ì«“ê²¨ë‚˜ì„œ ìˆ¨ì„ ëª»ì…” ì£½ëŠ”ë‹¤.

3ï¸âƒ£ ì´ë™í•  ë•Œ ë‹¤ìŒ ì¹¸ì— ëƒ„ìƒˆê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.

    - ìƒì–´ë“¤ì€ ëª¨ë‘ ì•„ë¬´ ëƒ„ìƒˆë„ ì—†ëŠ” ì¹¸ìœ¼ë¡œ ê°ì ì´ë™ì„ ëë§ˆì¹œë‹¤.

    - ëƒ„ìƒˆê°€ ë¿Œë ¤ì¡Œì—ˆë‹¤ë©´ `time(í˜„ì¬ê¹Œì§€ ê²½ê³¼í•œ ì‹œê°„ ì˜ë¯¸) - smell[x][y] >= k` ì´ë©´ ëƒ„ìƒˆê°€ ì‚¬ë¼ì¡Œìœ¼ë¯€ë¡œ ì´ë™ì´ ê°€ëŠ¥í•˜ë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì´ë™ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤

    - ëƒ„ìƒˆê°€ ë¿Œë ¤ì§€ì§€ ì•Šì•˜ë‹¤ë©´ ì´ë™ì„ ì™„ë£Œí•œë‹¤.

    - ë§Œì•½ ì•„ë¬´ ëƒ„ìƒˆë„ ì—†ëŠ” ì¹¸ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìì‹ ì˜ ëƒ„ìƒˆë¥¼ ë¿Œë ¤ë†¨ë˜ ê³³ìœ¼ë¡œ ì´ë™í•œë‹¤.

4ï¸âƒ£ ë ˆë²¨ 1ì¸ ìƒì–´ë§Œ ë‚¨ì„ ë•Œê¹Œì§€ ì´ë™ì„ ë°˜ë³µí•œë‹¤.

    - 1000ë²ˆê¹Œì§€ í•´ë³´ê³  ì•ˆë˜ë©´ -1ì„ ì¶œë ¥í•œë‹¤.

<hr/>
