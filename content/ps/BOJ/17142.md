---
title: '17142. ì—°êµ¬ì†Œ3'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['ê·¸ë˜í”„ ì´ë¡ ', 'ê·¸ë˜í”„ íƒìƒ‰', 'BFS', 'ë¸Œë£¨íŠ¸í¬ìŠ¤']
date: '2021-02-02'
---

# ë¬¸ì œ

- [17142.ì—°êµ¬ì†Œ3](https://www.acmicpc.net/problem/17142)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

class Pair {
    int x, y;

    public Pair(int x, int y) {
        this.x = x;
        this.y = y;
    }
}
public class Q17142 {
    static int n, m, zero = 0, arr[][], dx[] = {-1, 0, 1, 0}, dy[] = {0, 1, 0, -1};
    static List<Pair> virus = new ArrayList<>();
    public static void main(String[] args) throws IOException {
        init();
        solution();
    }

    private static void solution() {
        int minTime = 987654321;
        for (int i = 1; i <= (1 << virus.size() + 1) - 1; ++i) {
            List<Integer> v = check(i);
            if(v.size() == m){
                minTime = Math.min(minTime, pandemic(v));
            }
        }
        System.out.println(minTime == 987654321 ? -1 : minTime);
    }

    private static int pandemic(List<Integer> v) {
        Queue<Pair> q = new LinkedList<>();
        boolean visited[][] = new boolean[n][n];
        int time = 0, z = zero;

        for (int i = 0; i < v.size(); i++) {
            Pair p = virus.get(v.get(i));
            q.add(p);
            visited[p.x][p.y] = true;
        }

        while (!q.isEmpty()) {
            int size = q.size();
            if(size == 0) break;
            if(z == 0) return time;
            time += 1;
            for (int s = 0; s < size; s++) {
                Pair here = q.poll();
                for (int i = 0; i < 4; i++) {
                    int nx = here.x + dx[i], ny = here.y + dy[i];
                    if(isBorder(nx, ny) && arr[nx][ny] != 1 && visited[nx][ny] != true){
                        q.add(new Pair(nx ,ny));
                        visited[nx][ny] = true;
                        if(arr[nx][ny] == 0) z -= 1;

                    }
                }
            }
        }

        if(z > 0) return 987654321;
        return time;
    }

    private static boolean isBorder(int x, int y) {
        return (x >= 0 && x < n && y >= 0 && y < n);
    }


    private static List<Integer> check(int num) {
        List<Integer> ret = new ArrayList<>();
        for (int i = 0; i < virus.size(); i++) {
            if(((1 << i) & num) > 0)
                ret.add(i);
        }
        return ret;
    }

    private static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        arr = new int[n][n];

        for (int i = 0; i < n; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < n; j++) {
                arr[i][j] = Integer.parseInt(st.nextToken());
                if(arr[i][j] == 2) virus.add(new Pair(i, j));
                if(arr[i][j] == 0) zero += 1;
            }
        }
    }
}
/*
5 1
1 1 1 1 1
1 1 1 1 1
1 1 1 1 1
0 2 0 2 0
1 1 1 1 1
 */

```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> ì´ì „ì— ì—°êµ¬ì†Œ1 ë¬¸ì œë¥¼ í’€ì–´ë´¤ì—ˆëŠ”ë°, ì—°êµ¬ì†Œ3ë„ ë¹„ìŠ·í–ˆë‹¤.
>
> BFSë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ì¹´ìš´íŠ¸ë¥¼ ì¦ê°€ì‹œì¼œì£¼ëŠ” ì¡°ê±´ê³¼ ìœ„ì¹˜ë•Œë¬¸ì— ê³„ì† ì–´ê¸‹ë‚¬ë‹¤. ìê´´ê°ì´ ë“ ë‹¤ã…œ

## í’€ì´ ğŸ“£

<hr/>

1ï¸âƒ£ ë¹„í™œì„± ë°”ì´ëŸ¬ìŠ¤ê°€ ë†“ì—¬ ìˆëŠ” ìœ„ì¹˜ì˜ ì¢Œí‘œë“¤ì„ ë¦¬ìŠ¤íŠ¸ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë³´ê´€í•œë‹¤.

2ï¸âƒ£ ë°”ì´ëŸ¬ìŠ¤ê°€ ë†“ì¼ ìˆ˜ ìˆëŠ” ê°’ì´ 10 ì´í•˜ì´ë¯€ë¡œ ì™„ì „ íƒìƒ‰í•˜ê¸°ì— ì¶©ë¶„í•œ ì‹œê°„ì´ ë˜ë¯€ë¡œ, ë¹„íŠ¸ë¥¼ í†µí•´ ì¡°í•©íƒìƒ‰ì„ ì‹¤ì‹œí•œë‹¤.

3ï¸âƒ£ ì „ì²´ ë°”ì´ëŸ¬ìŠ¤ ì¤‘ m ê°œë¥¼ ì„ íƒí•˜ì—¬ ì‹œë®¬ë ˆì´ì…˜ í•´ë³´ê³ , ê°€ì¥ ë¹ ë¥¸ ì‹œê°„ì•ˆì— ëª¨ë“  ì—°êµ¬ì†Œì— ë°”ì´ëŸ¬ìŠ¤ë¥¼ í¼ëœ¨ë¦´ ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ì¶œë ¥í•œë‹¤.

<hr/>

## ì‹¤ìˆ˜ ğŸ˜…

- BFS ë¥¼ íƒˆì¶œì‹œí‚¬ ë•Œ ìµœì†Œ íšŸìˆ˜ ë˜ëŠ” ì´ íšŒìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í‘¸ëŠ” ë¬¸ì œë§Œ í’€ë‹¤ê°€, ë” ì´ìƒ íƒìƒ‰í•  ìˆ˜ ì—†ì„ ë•Œ ê¹Œì§€ íƒìƒ‰í•˜ëŠ” ë¬¸ì œê°€ ë‚˜ì™€ì„œ ì¡°ê¸ˆ í—¤ë§¸ë‹¤. ì´ëŸ°ê±¸ë¡œ í—¤ë§¤ë‹¤ë‹ˆã…œ

* ì¡°í•©íƒìƒ‰ì„ í•  ë•Œ, ë¹„íŠ¸ê°’ì„ 1ì”© ëœ í•´ì£¼ê³  ë¹„íŠ¸ ì—°ì‚°ë„ í•œì¹¸ì”© ì˜ëª»ë˜ê²Œ í•´ì„œ ë°”ë¡œì¡ëŠë¼ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë ¸ë‹¤.
