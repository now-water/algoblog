---
title: '1208. ë¶€ë¶„ìˆ˜ì—´ì˜ í•©2'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['ì´ë¶„ íƒìƒ‰', 'ì¤‘ê°„ì—ì„œ ë§Œë‚˜ê¸°']
date: '2021-06-22'
---

# ë¬¸ì œ
- [1208. ë¶€ë¶„ìˆ˜ì—´ì˜ í•©2](https://www.acmicpc.net/problem/1208)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

``` java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.StringTokenizer;

public class Q1208  {
    static int n, s, half;
    static long ans;
    static int arr[];
    static HashMap<Integer, Integer> map = new HashMap<>();
    public static void main(String[] args) throws IOException {
        init();
        soltuion();
    }

    private static void soltuion() {
        half = n/2;
        dfsLeft(0, 0);
        dfsRight(half, 0);
        if(s == 0) ans -= 1; // ê³µì§‘í•©ì¸ ê²½ìš°ë„ ì¹´ìš´íŠ¸ ë˜ê¸° ë•Œë¬¸ì— -1 í•´ì¤€ë‹¤.
        System.out.println(ans);
    }

    /* ë¶€ë¶„ ìˆ˜ì—´ì„ ì¬ê·€ì ìœ¼ë¡œ êµ¬í•´ì¤€ë‹¤. => í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ê°’ì„ ë”í•˜ê±°ë‚˜, ë”í•˜ì§€ ì•Šê±°ë‚˜. O(2^ì¸ë±ìŠ¤ ê°œìˆ˜) */
    private static void dfsRight(int idx, int sum) {
        if(idx == n){
            ans += map.getOrDefault(s - sum, 0);
            return;
        }
        dfsRight(idx + 1, sum);
        dfsRight(idx + 1, sum + arr[idx]);
    }

    private static void dfsLeft(int idx, int sum) {
        if(idx == half){
            map.put(sum, map.getOrDefault(sum, 0) + 1);
            return;
        }
        dfsLeft(idx + 1, sum);
        dfsLeft(idx + 1, sum + arr[idx]);
    }

    private static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = stoi(st.nextToken());
        s = stoi(st.nextToken());
        st = new StringTokenizer(br.readLine());
        arr =new int[n];
        for (int i = 0; i < n; i++) {
            arr[i] = stoi(st.nextToken());
        }
    }

    private static int stoi(String str) {
        return Integer.parseInt(str);
    }
}
```
</details>

## â­ï¸ëŠë‚€ì â­ï¸
> ì¤‘ê°„ì—ì„œ ë§Œë‚˜ê¸° ë¼ëŠ” ìœ í˜•ì€ ì²˜ìŒ í’€ì–´ë´¤ë‹¤.
>
>
>


## í’€ì´ ğŸ“£
<hr/>

1ï¸âƒ£ ì „ì²´ ë¶€ë¶„ ìˆ˜ì—´ì˜ í•©ì„ êµ¬í•˜ë ¤ë©´ ì‹œê°„ ë³µì¡ë„ê°€ `O(2^40)` ì´ ëœë‹¤. í•˜ì§€ë§Œ ì–´ì°¨í”¼ í•©ì„ êµ¬í•˜ëŠ” ê±°ì—¬ì„œ ë‘ ê°œì˜ ë°°ì—´ë¡œ ë‚˜ëˆ ì„œ ìƒê°í•  ìˆ˜ ìˆë‹¤.

    - ë°°ì—´ì„ 2ê°œë¡œ ë‚˜ëˆ ì„œ ìƒê°í•œë‹¤.

    - ë°°ì—´ì˜ ì‚¬ì´ì¦ˆ / 2 ë§Œí¼ì„ ì¤‘ê°„ í”¼ë²—ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

    - ì´í›„ í”¼ë²— ì „ê¹Œì§€ì˜ ë°°ì—´ì—ì„œ ëª¨ë“  ë¶€ë¶„ ìˆ˜ì—´ì˜ í•©ì„ ì¬ê·€ì ìœ¼ë¡œ ê³„ì‚°í•´ì„œ Map í˜•ì‹ìœ¼ë¡œ ì¹´ìš´íŠ¸ë¥¼ ì €ì¥í•´ë‘”ë‹¤.

    - í”¼ë²— í›„ì˜ ë°°ì—´ì—ì„œ ëª¨ë“  ë¶€ë¶„ ìˆ˜ì—´ì˜ í•©ì„ êµ¬í•œë‹¤.


2ï¸âƒ£ `í”¼ë²— ì „ ë°°ì—´ì˜ ë¶€ë¶„ ìˆ˜ì—´ í•©` + `í”¼ë²— í›„ì˜ ë°°ì—´ì˜ ë¶€ë¶„ ìˆ˜ì—´ í•©` = `s` ê°€ ë˜ëŠ” ê²½ìš°ë¥¼ íƒìƒ‰í•œë‹¤.

    - ans += map.getOrDefault(s - í”¼ë²— í›„ ë¶€ë¶„ ìˆ˜ì—´ í•©, 0)

    - ìœ„ì™€ ê°™ì´ ë°”ë¡œ ê°œìˆ˜ë¥¼ ì¹´ìš´íŠ¸ í•´ì¤„ ìˆ˜ ìˆë‹¤.


3ï¸âƒ£ ë§Œì•½ ì…ë ¥ë°›ì€ `s` ê°€ 0ì´ë¼ë©´, êµ¬í•œ ì¹´ìš´íŠ¸ì—ì„œ - 1 í•´ì¤€ë‹¤.

    - ì™œëƒí•˜ë©´ sê°€ 0ì¼ ê²½ìš°, ë‘ ê°œì˜ ë°°ì—´ì—ì„œ ì•„ë¬´ê²ƒë„ ì„ íƒí•˜ì§€ ì•Šì€ ë¹ˆ ìˆ˜ì—´, ì¦‰ ê³µì§‘í•©ì¼ ê²½ìš°ë„ ì¹´ìš´íŠ¸ê°€ 1ë²ˆ ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

    - ë”°ë¼ì„œ ë§ˆì§€ë§‰ì— s ì˜ ê°’ì„ í™•ì¸í•´ì£¼ê³  ì¹´ìš´íŠ¸ë¥¼ ê°ì†Œì‹œì¼œì¤€ë‹¤.


4ï¸âƒ£ êµ¬í•œ ì¹´ìš´íŠ¸ë¥¼ ì¶œë ¥í•˜ê³  ì¢…ë£Œí•œë‹¤.

## ì‹¤ìˆ˜ ğŸ˜…
<hr/>

- ë°°ì—´ ì „ì²´ë¥¼ ë‘ ê°œë¡œ ë‚˜ëˆŒ ìƒê°ì„ ì „í˜€ í•˜ì§€ ëª»í–ˆë‹¤.

  - **ì‚¬ì‹¤ ì´ ë°œìƒì„ ë– ì˜¬ë¦¬ëŠ” ê²ƒì´ ì´ ë¬¸ì œì˜ í•µì‹¬ì´ì—ˆë‹¤.**


- ë‘ ë°°ì—´ë¡œ ë‚˜ëˆˆ í›„, ê°ê°ì„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë¦¬í•´ì„œ ì–‘ ëì— í¬ì¸í„°ë¥¼ ì„¤ì •í•˜ì—¬ í‘¸ëŠ” íˆ¬ í¬ì¸í„° í’€ì´ë²•ë„ ì¡´ì¬í•˜ì˜€ë‹¤. <br/> <br/>

  <details><summary> íˆ¬ í¬ì¸í„° í’€ì´ë²• </summary>

  ```java
    long ans = 0;
    // ë‘ ë°°ì—´ë¡œ ë‚˜ëˆˆ í›„, ê°ê°ì˜ ë°°ì—´ì—ì„œ ë¶€ë¶„ ìˆ˜ì—´ì˜ í•©ì„ ì €ì¥í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì„œ ì •ë ¬í•œë‹¤.
    Collections.sort(leftList);
    Collections.sort(rightList);
    int leftIdx = 0, rightIdx = rightList.size() - 1;
    while(leftIdx < leftList.size() && rightIdx >= 0){
        int leftVal = leftList.get(leftIdx), rightVal = rightList.get(rightIdx);
        if(leftVal + rightVal == s){ // í•©ì´ s ê°€ ë˜ëŠ” ê²½ìš°ì—
            int leftCnt = 0, rightCnt = 0; // ê° ë¦¬ìŠ¤íŠ¸ì—ì„œ ë™ì¼í•œ ê°’ì„ ê°€ì§€ëŠ” íšŸìˆ˜ ì¹´ìš´íŠ¸
            while(leftIdx < leftList.size() && leftList.get(leftIdx) == leftVal){
                leftIdx += 1;
                leftCnt += 1;
            }
            while(rightIdx >= 0 && rightList.get(rightIdx) == rightVal){
                rightIdx -= 1;
                rightCnt += 1;
            }
            ans += leftCnt * rightCnt;
        } else if(leftVal + rightVal > s){
            // í•©ì´ s ë³´ë‹¤ í´ ê²½ìš° rightIdx ë¥¼ ì¤„ì—¬ì£¼ëŠ” ì •ë‹¹ì„± ì…ì¦
            // 1. leftIdx ë¥¼ ì¦ê°€ì‹œí‚¤ë©´ í•©ì€ ë” ì»¤ì§€ê¸° ë•Œë¬¸
            // 2. rightValì´ ë” ì‘ì•„ì§€ë”ë¼ë„, leftValì´ ê³„ì† ì»¤ì§€ê¸° ë•Œë¬¸ì— í•©ì´ s ì¸ ê²½ìš°ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŒ
            rightIdx -= 1;
        } else {
            leftIdx += 1;
        }
    }
    if(s == 0) ans -= 1;
    System.out.println(ans);
  ```
  </details>
