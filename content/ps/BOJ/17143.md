---
title: '17143. ë‚šì‹œì™•'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['êµ¬í˜„', 'ì‹œë®¬ë ˆì´ì…˜']
date: '2021-01-28'
---

# ë¬¸ì œ

- [17143. ë‚šì‹œì™•](https://www.acmicpc.net/problem/17143)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

class Pair {
    int x, y;

    public Pair(int x, int y) {
        this.x = x;
        this.y = y;
    }
}

class Shark {
    int speed, size, dir;

    public Shark(int speed, int dir, int size) {
        this.speed = speed;
        this.size = size;
        this.dir = dir;
    }
}

public class Q17143 {

    static int r, c, m, arr[][], dx[] = {0, -1, 1, 0, 0}, dy[] = {0, 0, 0, 1, -1};
    static Shark fish[][];
    static Queue<Pair> pos = new LinkedList<>();

    public static void main(String[] args) throws IOException {
        init();
        solution();
    }

    private static void solution() {
        int ans = 0;
        for (int king = 1; king <= c; ++king) {
            ans += fishing(king);
            sharkMove();
        }
        System.out.println(ans);
    }

    static int fishing(int col){
        for (int row = 1; row <= r; row++) {
            if(fish[row][col] == null) continue;
            int ret = fish[row][col].size;
            fish[row][col] = null;
            return ret;
        }
        return 0;
    }

    static void sharkMove() {
        Shark occupied[][] = new Shark[r + 1][c + 1];

        int size = pos.size();
        for (int s = 0; s < size; s++) {
            Pair here = pos.poll();
            int x = here.x, y = here.y, dir;
            Shark it = fish[x][y];
            if(it == null) continue;
            dir = it.dir;

            // move
            if (dir == 1 || dir == 2) {
                for (int sp = 0; sp < it.speed % (2 * r - 2); ++sp) {
                    if (x + dx[dir] < 1) dir = 2;
                    if (x + dx[dir] > r) dir = 1;
                    x += dx[dir];
                }
            }
            else{
                for (int sp = 0; sp < it.speed % (2 * c - 2); ++sp) {
                    if (y + dy[dir] < 1) dir = 3;
                    if (y + dy[dir] > c) dir = 4;
                    y += dy[dir];
                }
            }
            it.dir = dir;
            fish[here.x][here.y] = null;
            // mark : After moving => x, y          Before moving => here.x, here.y;

            // not occupied case
            if (occupied[x][y] == null) {
                occupied[x][y] = new Shark(it.speed, it.dir, it.size);
            }
            // occupied case
            else {
                Shark old = occupied[x][y];
                if (old.size >= it.size) continue;
                else {
                    occupied[x][y] = new Shark(it.speed, it.dir, it.size);
                }
            }
        }

        // update fishes with current state after moving
        for (int i = 1; i <= r; i++) {
            for (int j = 1; j <= c; j++) {
                if (occupied[i][j] != null) {
                    pos.add(new Pair(i, j));
                    Shark it = occupied[i][j];
                    fish[i][j] = new Shark(it.speed, it.dir, it.size);
                }
            }
        }
    }

    private static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        r = Integer.parseInt(st.nextToken());
        c = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        arr = new int[r + 1][c + 1];
        fish = new Shark[r + 1][c + 1];

        for (int i = 0; i < m; i++) {
            st = new StringTokenizer(br.readLine());
            int x = Integer.parseInt(st.nextToken()), y = Integer.parseInt(st.nextToken());
            int sp = Integer.parseInt(st.nextToken()), d = Integer.parseInt(st.nextToken()), si = Integer.parseInt(st.nextToken());
            fish[x][y] = new Shark(sp, d, si);
            pos.add(new Pair(x, y));
        }
    }
}

/* ë‚˜ë¥¼ ì˜ê²ì˜ ê³ ë‡Œì—ì„œ êº¼ë‚´ì¤€ ë°˜ë¡€
100 7 7
3 2 2 3 9
3 3 1 3 3
3 5 1 4 7
3 6 2 4 6
2 4 1 2 8
1 4 2 2 4
4 4 1 1 5
0

 */

```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> ë¬¼ê³ ê¸° ê´€ë ¨ ë¬¸ì œëŠ” ë‹¤ ì´ë ‡ê²Œ í—˜ë‚œí•œê°€?
>
> ìë°” ì–¸ì–´ì— ëŒ€í•œ ì´í•´ ë¶€ì¡± -> ê°ì²´ë¥¼ ìƒˆë¡œ ì„ ì–¸í•˜ë©´ì„œ ê¸°ì¡´ì— ìˆë˜ ê°ì²´ë¥¼ ëŒ€ì…ì‹œì¼œì£¼ë©´ ì£¼ì†Œ ë³µì‚¬ê°€ ë˜ì„œ ì„ ì–¸í•œ ê°ì²´ë¥¼ ë³€ê²½ì‹œì¼°ì„ ë•Œ ëŒ€ì…í•œ ê°ì²´ë„ ë³€í•´ì•¼í•˜ëŠ”ì¤„ ì•Œê³ ìˆì—ˆë‹¤.
>
> ì´ì „ì—ëŠ” ëŒ€ì…í•˜ëŠ” ê°ì²´ë¥¼ ë°”ê¾¸ê³  ì‹¶ì§€ ì•Šì€ë° ì´ë ‡ê²Œí•´ì„œ ë°”ë€ŒëŠ” ë°”ëŒì— ë¬¸ì œì˜€ëŠ”ë°, ì´ë²ˆì—” ë°”ê¾¸ê³  ì‹¶ì€ë° ì•ˆë°”ê»´ì„œ ë¬¸ì œì˜€ë‹¤. ë ìš”ì˜¤ì˜¹
>
> ì¡°ê±´ ì²˜ë¦¬ë¥¼ ë‹¤í–ˆë‹¤ê³  ìƒê°í–ˆìœ¼ë‚˜ ë°˜ë¡€ë¥¼ í†µí•´ ë§ˆì§€ë§‰ìœ¼ë¡œ í•œê°€ì§€ê°€ ë‚¨ì•„ìˆë‹¤ëŠ” ê²ƒì„ ê²¨ìš° ì•Œì•„ì°¨ë ¸ë‹¤.

## í’€ì´ ğŸ“£

<hr/>

1ï¸âƒ£ ì†ë„, ë°©í–¥, í¬ê¸°ë¥¼ í•„ë“œë¡œ ê°–ëŠ” `Shark` ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ `R * C` í¬ê¸°ì˜ ë°°ì—´ì„ ë§Œë“¤ì–´ì¤€ë‹¤.

2ï¸âƒ£ ì…ë ¥ì„ ë°›ìœ¼ë©´ì„œ ìƒì–´ê°€ ìœ„ì¹˜í•˜ëŠ” ì¢Œí‘œë¥¼ `Queue`ë¥¼ ë§Œë“¤ì–´ ë”°ë¡œ ë³´ê´€í•œë‹¤.

3ï¸âƒ£ ë¬¸ì œì˜ ì¡°ê±´ëŒ€ë¡œ ë‚šì‹œê¾¼ì´ ìˆëŠ” ì—´ì—ì„œ ë•…ì— ê°€ì¥ ê°€ê¹Œìš´ ìƒì–´ë¥¼ ì¡ëŠ”ë‹¤.

    - ìƒì–´ëŠ” ê·¸ëŒ€ë¡œ ì œê±°í•´ì£¼ê¸° ìœ„í•´ í•´ë‹¹ ì¢Œí‘œê°’ì—ëŠ” null ì„ ì €ì¥í•œë‹¤.

    - ìƒì–´ì˜ í¬ê¸°ë§Œí¼ì˜ ì ìˆ˜ë¥¼ íšë“í•œë‹¤.

4ï¸âƒ£ ìƒì–´ë“¤ì´ ì´ë™ì„ ì‹œì‘í•œë‹¤.

    - ì´ˆë‹¹ sì˜ ì†ë„ d ë°©í–¥ìœ¼ë¡œ ì´ë™í•˜ëŠ”ë°, ì¥ì™¸ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš° ë°©í–¥ì„ ë°˜ëŒ€ë¡œ ì „í™˜í•´ì„œ ê³„ì†í•´ì„œ ì´ë™í•œë‹¤.

    - 0 <= s <= 1000 ì´ì–´ì„œ í•œì¹¸ì”© ì›€ì§ì—¬ë„ ì‹œê°„ì´ˆê³¼ëŠ” ì•ˆë–´ìœ¼ë‚˜ 2100ms ë¼ëŠ” ì–´ë§ˆì–´ë§ˆí•œ ì‹œê°„ì´ ê±¸ë ¸ë‹¤.

    - ë”°ë¼ì„œ ì´ ë¶€ë¶„ì„ ìµœì í™”í•´ì£¼ê¸°ìœ„í•´ ì™•ë³µí•˜ëŠ” ê±°ë¦¬ë§Œí¼ì€ ì œì™¸í•´ì£¼ê¸° ìœ„í•´ì„œ ê°€ë¡œë°©í–¥ì¼ ê²½ìš° shark.speed % ( 2 * c - 2) ë§Œí¼ë§Œ 1ì¹¸ì”© ì´ë™í•´ì¤€ë‹¤.

    - ì„¸ë¡œë°©í–¥ì¼ ê²½ìš° shark.speed % ( 2 * r - 2) ë§Œí¼ë§Œ ì´ë™í•´ì£¼ë©´ ëœë‹¤.

    - ì´ ë•Œ, -2 ë¥¼ í•´ì£¼ëŠ” ì´ìœ ëŠ” ê°€ì¥ìë¦¬ì— ë†“ì˜€ì„ ë•Œ ë‹¤ìŒ ì¹¸ì€ ë°˜ëŒ€ë°©í–¥ìœ¼ë¡œ í•œì¹¸ ì´ë™í•˜ê¸° ë•Œë¬¸ì— ì™•ë³µí•  ê²½ìš° ì–‘ìª½ ë‘êµ°ë°ì—ì„œ 1ì¹¸ì”© ëœ ê°€ê¸° ë•Œë¬¸ì´ë‹¤.

5ï¸âƒ£ ì´ë™í•œ ìƒì–´ë“¤ì´ ê°™ì€ ê³³ì— ìœ„ì¹˜í•œë‹¤ë©´ í° ìƒì–´ê°€ ì‘ì€ ìƒì–´ë“¤ì„ ì¡ì•„ë¨¹ëŠ”ë‹¤.

    - ì¼ë‹¨ì€ ëª¨ë“  ìƒì–´ë“¤ì´ ì´ë™ì„ ì •ìƒì ìœ¼ë¡œ ë§ˆì¹˜ê¸° ìœ„í•´ì„œ ê¸°ì¡´ì˜ ìƒì–´ë“¤ì˜ ìœ„ì¹˜ì— ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ” ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“ ë‹¤.

    - íŠ¹ì • ì¹¸ì— ë‹¤ë¥¸ ìƒì–´ê°€ ìˆì§€ ì•Šë‹¤ë©´, ê·¸ ì¹¸ì— í•´ë‹¹ ìƒì–´ë¥¼ ì €ì¥í•´ì¤€ë‹¤.

    - ë§Œì•½ ë‹¤ë¥¸ ìƒì–´ê°€ ì¡´ì¬í•œë‹¤ë©´, ê¸°ì¡´ì— ìˆë˜ ìƒì–´ì˜ í¬ê¸°ì™€ í˜„ì¬ ì´ë™í•˜ë ¤ëŠ” ìƒì–´ì˜ í¬ê¸°ë¥¼ ë¹„êµí•œ í›„ ë” í° ìƒì–´ë§Œ ë‚¨ê²¨ë‘”ë‹¤.

    - ëª¨ë“  ìƒì–´ê°€ ì´ë™í•œ í›„ì— ìµœì¢…ì ìœ¼ë¡œ ìƒì–´ë“¤ì˜ ìœ„ì¹˜ë¥¼ í™•ì¸í•´ì„œ ë‚¨ì•„ìˆëŠ” ìƒì–´ë“¤ì„ ë‹¤ì‹œ ì›ë˜ ìƒì–´ë“¤ì˜ ìœ„ì¹˜ë¥¼ í‘œì‹œí•˜ëŠ” ë°°ì—´ì— ì €ì¥í•œë‹¤.

6ï¸âƒ£ ë‚šì‹œê¾¼ì´ ëª¨ë“  ì—´ì„ íƒìƒ‰í•  ë•Œ ê¹Œì§€ ìœ„ì˜ ê³¼ì •ì„ ë°˜ë³µí•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ ì–»ëŠ” ì ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

<hr/>

## ì‹¤ìˆ˜ ğŸ˜…

- ìƒì–´ì˜ ìœ„ì¹˜ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë¶€ë¶„ì—ì„œ ëª‡ ê°€ì§€ ì‹¤ìˆ˜ë¥¼ í–ˆë‹¤

  - ì´ë™í•˜ê¸° ì „ì˜ ìƒì–´ì˜ ìœ„ì¹˜ë¥¼ `null` ë¡œ í‘œì‹œí•˜ëŠ” ê²ƒ

  - ì´ë™ì„ ë§ˆì¹œ í›„ì— ìµœì¢…ì ìœ¼ë¡œ ë°”ë€ ë°©í–¥ì„ ì—…ë°ì´íŠ¸í•´ì£¼ëŠ” ê²ƒ.
