---
title: '2306. ìœ ì „ì'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ê³  ì •ë¦¬í•œ ê³³ì…ë‹ˆë‹¤.'
tags: ['DP']
date: '2021-02-17'
---

# ë¬¸ì œ

- [2306. ìœ ì „ì](https://www.acmicpc.net/problem/2306)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;

public class Q2306 {
    static String line;
    static int[][] cache;

    public static void main(String[] args) throws IOException {
        init();
        System.out.println(solution(0, line.length() - 1));
    }

    static int solution(int x, int y) {
        if(x < 0 || y >= line.length()) return 0;
        if(x >= y) return 0;
        if(cache[x][y] != -1) return cache[x][y];
        int ret = 0;

        for (int i = x; i < y; i++) {
            if(line.charAt(i) == 'a'){
                for (int j = y; j > i; j--) {
                    if(line.charAt(j) == 't'){
                        ret = Math.max(ret,
                                2 + solution(x, i - 1) +
                                solution(i + 1, j - 1) +
                                solution(j + 1, y)
                        );
                        break;
                    }
                }
            }
        }

        for (int i = x; i < y; i++) {
            if(line.charAt(i) == 'g'){
                for (int j = y; j > i; j--) {
                    if(line.charAt(j) == 'c'){
                        ret = Math.max(ret,
                                2 + solution(x, i - 1) +
                                        solution(i + 1, j - 1) +
                                        solution(j + 1, y)
                        );
                        break;
                    }
                }
            }
        }

        return cache[x][y] = ret;
    }

    static void init() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        line = br. readLine();
        cache = new int[line.length()][line.length()];
        for (int i = 0; i < line.length(); i++) {
            Arrays.fill(cache[i], -1);
        }
    }
}
/*
static int solution(int x, int y) {
        if(x >= y) return 0;
        if(cache[x][y] != -1) return cache[x][y];

        char left = line.charAt(x), right = line.charAt(y);
        int ret = 0;

        if((left == 'a' && right == 't') || (left == 'g' && right == 'c'))
            ret = cache[x][y] = 2 + solution(x + 1, y - 1);

        ret = Math.max(ret, solution(x + 1, y));
        ret = Math.max(ret, solution(x, y - 1));

        int mid = (x + y) / 2;
        ret = Math.max(ret, solution(x, mid) + solution(mid + 1, y));
        return cache[x][y] = ret;
    }
 */
/*
agact
4

aattgc
6

atat
4
 */
```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> DP ë¬¸ì œë¼ëŠ”ê±¸ ì•Œê³  ì–‘ ë í¬ì¸í„°ë¥¼ ì¸ë±ìŠ¤ë¡œí•˜ëŠ” 2ì°¨ì› ë°°ì—´ë¡œ ì ‘ê·¼í•˜ëŠ”ê²ƒê¹Œì§€ëŠ” ì„±ê³µí–ˆë‹¤.
>
> í•˜ì§€ë§Œ ì´í›„ ì¬ê·€ ì§„ì…ì„ ì˜ëª»í•´ì„œ ëª¨ë“  TC ë¥¼ í†µê³¼ì‹œí‚¤ì§€ ëª»í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë²„ë ¸ë‹¤.

<hr/>

## í’€ì´ ğŸ“£

1ï¸âƒ£ ì‹œì‘ì ë¶€í„° 'a' ë˜ëŠ” 'g' ë¥¼ ì°¾ëŠ”ë‹¤.

    - a ì—ì„œ ì‹œì‘í•´ì„œ të¡œ ëë‚˜ê±°ë‚˜ g ì—ì„œ ì‹œì‘í•´ì„œ c ë¡œ ëë‚  ê²½ìš° KOI ìœ ì „ìê°€ ë  ìˆ˜ ìˆë‹¤.

    - ì™¼ìª½ë¶€í„°í•´ì„œ a ë¥¼ ì°¾ìœ¼ë©´ ì˜¤ë¥¸ìª½ ëë¶€í„° t ë¥¼ ì°¾ê³ , ì™¼ìª½ë¶€í„° g ë¥¼ ì°¾ìœ¼ë©´ ì˜¤ë¥¸ìª½ ëë¶€í„° cë¥¼ ì°¾ëŠ” 2ì¤‘ forë¬¸ì„ 2ê°œ ì‚¬ìš©í•œë‹¤.

2ï¸âƒ£ ì–‘ ë ì§€ì ì„ í™•ì¸í•œ í›„ í•´ë‹¹ ë²”ìœ„ì—ì„œ ì™¼ìª½, ì•ˆìª½, ì˜¤ë¥¸ìª½ ìœ¼ë¡œ ì¬ê·€ì ìœ¼ë¡œ ì§„ì…í•´ì„œ ìµœëŒ€ ê°œìˆ˜ë¥¼ ì°¾ì•„ë‚¸ë‹¤.

    - ì´ë¯¸ ì–‘ ë ì§€ì ì—ì„œ KOI ìœ ì „ìë¥¼ í•˜ë‚˜ ì°¾ì•˜ìœ¼ë¯€ë¡œ ê¸¸ì´ë¥¼ + 2 í•´ì£¼ê³  ì„¸ ê°œì˜ ë²”ìœ„ì—ì„œ êµ¬í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ê¸¸ì´ë¥¼ ë”í•´ì¤€ë‹¤.

    - í•´ë‹¹ ì–‘ ë ì§€ì ìœ¼ë¡œ ì˜ëì„ ê²½ìš°ì˜ ìµœëŒ€ ê¸¸ì´ì™€ ì´ì „ì— ì´ë¯¸ êµ¬í•´ë‘” ìµœëŒ€ ê¸¸ì´ ì¤‘ ë” í° ê°’ì„ cache[ì™¼ìª½ ë ì¸ë±ìŠ¤][ì˜¤ë¥¸ìª½ ë ì¸ë±ìŠ¤]ì— ì €ì¥í•œë‹¤

3ï¸âƒ£ ëª¨ë“  KOI ìœ ì „ìì˜ ê¸¸ì´ ì¤‘ ìµœëŒ€ê°’ì„ ì¶œë ¥í•˜ê³  ì¢…ë£Œí•œë‹¤.

    - lis ë°°ì—´ì„ í†µí•´ êµì°¨í•˜ì§€ ì•Šê³  ì¶”ê°€í•  ìˆ˜ ìˆì—ˆë˜ ì „êµ¬ì˜ ì •ë³´ë¥¼ ì°¾ì•„ë‚¸ë‹¤.

    - í•´ë‹¹ ì „êµ¬ì˜ ì¸ë±ìŠ¤ë¡œë¶€í„° ë§¤í•‘ë˜ì–´ ìˆëŠ” ìŠ¤ìœ„ì¹˜ë¥¼ ì°¾ì•„ë‚¸ë‹¤.

<hr/>

## ì‹¤ìˆ˜ ğŸ˜…

<details><summary> í‹€ë ¸ë˜ ì½”ë“œ </summary>

```java
static int solution(int x, int y) {
        if(x >= y) return 0;
        if(cache[x][y] != -1) return cache[x][y];

        char left = line.charAt(x), right = line.charAt(y);
        int ret = 0;

        if((left == 'a' && right == 't') || (left == 'g' && right == 'c'))
            ret = cache[x][y] = 2 + solution(x + 1, y - 1);

        ret = Math.max(ret, solution(x + 1, y));
        ret = Math.max(ret, solution(x, y - 1));

        int mid = (x + y) / 2;
        ret = Math.max(ret, solution(x, mid) + solution(mid + 1, y));
        return cache[x][y] = ret;
}
```

</details>

<br/>

- ì–‘ ë ì§€ì ì—ì„œë¶€í„° 1ê°œì”© ì¤„ì—­ë‚˜ê°€ëŠ” ë°©ë²•ìœ¼ë¡œ DPë¥¼ ì„¤ê³„í–ˆì—ˆë‹¤. -> ì¤‘ê°„ì— ë¬¸ìë¥¼ ì œê±°í•˜ëŠ” ê²½ìš°ë¥¼ íŒë‹¨í•˜ì§€ ëª»í•¨.

* ì–‘ ëì´ KOI ìœ ì „ìë¥¼ ë§Œì¡±í•  ê²½ìš°ì—ë§Œ ê¸¸ì´ + 2 ë¥¼ í•´ì£¼ì—ˆì—ˆë‹¤.

- ì´ë ‡ê²Œ ì§  ì½”ë“œëŠ” ë©”ëª¨ì´ì œì´ì…˜ë„ ì œëŒ€ë¡œ ë˜ì§€ ì•ŠëŠ”ë‹¤. -> ì„œë¡œ ë‹¤ë¥¸ í¬ê¸°ì˜ 2ê°œì˜ KOI ìœ ì „ìë¡œ ë‚˜ë‰˜ëŠ” ê²½ìš° ê°ê°ì˜ ê²½ìš°ì˜ í•©ì„ êµ¬í•˜ì§€ ëª»í•œë‹¤.

* 2ê°œì˜ KOI ìœ ì „ìë¥¼ ì´ì–´ë¶™ì´ëŠ” ê²½ìš°ë¥¼ ê³ ë ¤í•˜ê¸° ìœ„í•´ì„œ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼í•  í•„ìš”ê°€ ìˆì—ˆë‹¤.

- ë”°ë¼ì„œ ìœ„ì— í’€ì´ì— ì •ë¦¬í•œ ê²ƒ ì²˜ëŸ¼ ìµœëŒ€ê°’ì„ êµ¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ì°¾ì•„ì„œ `a or g ë¥¼ ì•ì—ì„œë¶€í„° ì°¾ê³ , t or c ë¥¼ ë’¤ì—ì„œë¶€í„° ì°¾ëŠ” ë°©ë²•` ì™¼ìª½, ì¤‘ê°„, ì˜¤ë¥¸ìª½ 3ê°€ì§€ ë²”ìœ„ë¥¼ ëª¨ë‘ íƒìƒ‰í•´ì£¼ëŠ” ë°©ë²•ì´ ê°€ì¥ í•©ë¦¬ì ì´ë‹¤.
