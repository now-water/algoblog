---
title: 'ë¹„ìƒ ì—°ë½ë§'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: 'êµ¬ë¦„ ì½”ë”© í…ŒìŠ¤íŠ¸ ê¸°ì¶œ ë¬¸ì œì…ë‹ˆë‹¤.'
tags: ['ê·¸ë˜í”„ íƒìƒ‰', 'BFS']
date: '2021-01-27'
---

# ë¬¸ì œ

- [ì‹¤ì „ ìœ í˜• ì½”ë”© í…ŒìŠ¤íŠ¸ ëª¨ì˜ê³ ì‚¬ 3000 Part2. 3ë²ˆ ë¹„ìƒ ì—°ë½ë§](https://knu.goorm.io/learn/lecture/25446/%EC%8B%A4%EC%A0%84-%EC%9C%A0%ED%98%95-%EC%BD%94%EB%94%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%AA%A8%EC%9D%98%EA%B3%A0%EC%82%AC-3000/lesson/1276066/%EB%82%9C%EC%9D%B4%EB%8F%84-3-%EC%98%A4%EB%A5%B4%EB%A7%89)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.io.*;
import java.util.*;

class Main {
    public static void main(String[] args) throws Exception {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt(), arr[][] = new int[n+1][n+1];
        for (int i = 0; i <= n; i++) {
            Arrays.fill(arr[i], 11111);
        }
        for (int i = 1; i <= n; i++) {
            int k = sc.nextInt();
            for (int j = 0; j < k; j++) {
                int temp = sc.nextInt();
                arr[i][temp] = 1;
            }
        }
        // í”Œë¡œì´ë“œ-ì™€ìƒ¬
        for (int k = 1; k <= n; k++) {
            for (int i = 1; i <= n; i++) {
                for (int j = 1; j <= n; j++) {
                    arr[i][j] = Math.min(arr[i][j], arr[i][k] + arr[k][j]);
                }
            }
        }

        int ans = 11111, ansI = 0;
        for (int i = 1; i <= n; i++) {
            int d = 0;
            for (int j = 1; j <= n; j++) {
                if(i == j) continue;
                if(arr[i][j] > 1000) {
                    d = 11111;
                    break;
                }
                if(d < arr[i][j]){
                    d = arr[i][j];
                }
            }
            if(ans > d){
                ans = d;
                ansI = i;
            }
        }
        if(ans > 1000) System.out.println(-1);
        else System.out.println(ansI + " " + ans);
    }
}
```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

> ë¬¸ì œë¥¼ ë‹¤ë¥´ê²Œ ì´í•´í–ˆë‹¤. í•œëª…ì´ ì‹œì‘í•´ì„œ ëª¨ë“  ì‚¬ëŒë“¤ì—ê²Œ ì „ë‹¬ë˜ê¸°ê¹Œì§€ ê°€ì¥ ë¹ ë¥¸ ì‹œê°„ì„ êµ¬í•œë‹¤ê³  ìƒê°í–ˆëŠ”ë°, DFS ê°€ ì•„ë‹ˆë¼ BFSë¡œ í–ˆì—ˆì–´ì•¼í–ˆë‹¤.

## í’€ì´ ğŸ“£

<hr/>

1ï¸âƒ£ ëª¨ë“  ì§€ì ê°„ì˜ ìµœë‹¨ê²½ë¡œë¥¼ êµ¬í•˜ê¸° ìœ„í•´ í”Œë¡œì´ë“œ ì™€ìƒ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤. `O(N^3)` ì´ë¯€ë¡œ `N <= 500` ì¸ ë¬¸ì œì˜ ì¡°ê±´ì—ì„œ ì¶©ë¶„íˆ ì‹œê°„ì•ˆì— êµ¬í•  ìˆ˜ ìˆë‹¤.

2ï¸âƒ£ ê° ë…¸ë“œì—ì„œ ìì‹ ì„ ì œì™¸í•œ ë‹¤ë¥¸ ë…¸ë“œê¹Œì§€ ê±¸ë¦¬ëŠ” ê±°ë¦¬ ì¤‘ ìµœëŒ€ê°’ì„ ì°¾ëŠ”ë‹¤.

3ï¸âƒ£ ê° ë…¸ë“œì—ì„œ êµ¬í•œ ìµœëŒ€ê°’ ì¤‘ ê°€ì¥ ì‘ì€ ê°’ì„ ì°¾ìœ¼ë©´ í•´ë‹¹ ë…¸ë“œì—ì„œ ì¶œë°œí–ˆì„ ë•Œ ëª¨ë“  ì‚¬ëŒì´ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆëŠ” ìµœì†Œê°’ì´ ëœë‹¤.

<hr/>

## ì‹¤ìˆ˜ ğŸ˜…

<details><summary>ì½”ë“œ ë³´ê¸°</summary>

```java

import java.io.*;
import java.util.*;

class Main {
  static int cache[], n;
  static List<Integer> list[];
  public static void main(String[] args) throws Exception {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    StringTokenizer st;
    n = Integer.parseInt(br.readLine());
    list = new List[n];

    for (int i = 0; i < n; i++)
      list[i] = new ArrayList<>();

    for (int i = 0; i < n; i++) {
      st = new StringTokenizer(br.readLine());
      int m = Integer.parseInt(st.nextToken());
      for (int j = 0; j < m; j++) {
        int idx = Integer.parseInt(st.nextToken()) - 1;
        list[i].add(idx);
      }
    }

    int ans = 987654321, ansI = -1;
    for (int i = 0; i < n; i++) {
      int visited[] = new int[n];
      int res = solution(i, visited, 1);
      if(ans > res){
        ans = res;
        ansI = i;
      }
    }
    if(ans != 987654321)
      System.out.println(ansI + 1 + " " + ans);
    else System.out.println(-1);
  }

  private static int solution(int s, int visited[], int cnt) {
    if(cnt == n) return 0;
    int ret = 987654321;

    visited[s] = 1;
    for (int i = 0; i < list[s].size(); i++) {
      int next = list[s].get(i);
      if(visited[next] > 0) continue;
      visited[next] = 1;
      ret = Math.min(ret, solution(next, visited, cnt + 1));
      visited[next] = 0;
    }
    visited[s] = 0;
    return ret + 1;
  }
}


```

</details>

- í”Œë¡œì´ë“œ ì™€ìƒ¬ ë°©ë²•ì„ ì „í˜€ ìƒê°ëª»í–ˆë‹¤. ìµœë‹¨ê±°ë¦¬ë¼ëŠ” ì¡°ê±´ì— ë‹¨ìˆœíˆ BFSë‚˜ DFSë¥¼ í†µí•œ ê·¸ë˜í”„ íƒìƒ‰ì¸ì¤„ ì•Œì•˜ë‹¤.

* ì‹¬ì§€ì–´ ìµœë‹¨ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì˜€ìŒì—ë„ ë‚˜ëŠ” ì–´ë¦¬ì„ê²Œ DFSë¥¼ ì‚¬ìš©í•´ì„œ í’€ë ¤ê³  í–ˆë‹¤..
