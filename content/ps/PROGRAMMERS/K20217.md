---
title: 'ë§¤ì¶œ í•˜ë½ ìµœì†Œí™”'
metaTitle: 'ë§Œë ™ ê°œë°œì í‚¤ìš°ê¸°'
metaDescription: '2021 ì¹´ì¹´ì˜¤ ë¸”ë¼ì¸ë“œ ì±„ìš© ê¸°ì¶œ ë¬¸ì œ í’€ì´ì…ë‹ˆë‹¤.'
tags: ['2021 ì¹´ì¹´ì˜¤ ë¸”ë¼ì¸ë“œ']
date: '2021-02-28'
---

# ë¬¸ì œ

- [ì¹´ì¹´ì˜¤ 2021 ë¸”ë¼ì¸ë“œ ê³µê°œ ì±„ìš©. 7ë²ˆ ë§¤ì¶œ í•˜ë½ ìµœì†Œí™”](https://programmers.co.kr/learn/courses/30/lessons/72416#)

## ì½”ë“œ

<details><summary> ì½”ë“œ ë³´ê¸° </summary>

```java
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

class Team{
    int upTeam = -1, downTeam = -1;
    boolean hasTeam = false;

    public Team(int upTeam, int downTeam) {
        this.upTeam = upTeam;
        this.downTeam = downTeam;
    }
}

class Solution {
    static List<Integer> adj[] = new ArrayList[300005], sales;
    static int links[][], INF = 987654321;
    static int cache[][] = new int[300005][2];
    public static int solution(int[] Sales, int[][] Links) {
        int n = Sales.length;
        sales = new ArrayList<>();
        links = Links;
        sales.add(0);
        for (int i = 1; i <= n; i++) {
            adj[i] = new ArrayList<>();
        }
        for (int sale : Sales) sales.add(sale);
        for (int[] link : links)
            adj[link[0]].add(link[1]);
        dfs(1);
        return Math.min(cache[1][0], cache[1][1]);
    }

    private static void dfs(int cur) {
        // cache[cur][0] : cur ë²ˆì§¸ ë…¸ë“œê°€ ì°¸ì„í•˜ì˜€ì„ ë•Œì˜ ë§¤ì¶œí•©ì˜ ìµœì‡ 
        // cache[cur][1] : cur ë²ˆì§¸ ë…¸ë“œê°€ ì°¸ì„í•˜ì§€ ì•Šì•˜ì„ ë•Œì˜ ë§¤ì¶œí•©ì˜ ìµœì‡ 

        // leaf ë…¸ë“œì´ë©´ ë” ì´ìƒ êµ¬í•  ìˆ˜ ì—†ìŒ
        if(adj[cur].isEmpty()){
            cache[cur][0] = sales.get(cur);
            cache[cur][1] = 0;
            return;
        }

        int minGap = INF;
        cache[cur][0] = sales.get(cur);
        for (Integer x : adj[cur]) {
            dfs(x);
            cache[cur][0] += Math.min(cache[x][0], cache[x][1]);
            minGap = Math.min(minGap, cache[x][0] - cache[x][1]);
        }
        if(minGap < 0) minGap = 0;
        cache[cur][1] = cache[cur][0] - sales.get(cur) + minGap;
    }

    public static void main(String[] args) {
        int sales[] = {14, 17, 15, 18, 19, 14, 13, 16, 28, 17};
        int links[][] = {
            {10, 8},
            {1, 9},
            {9, 7},
            {5, 4},
            {1, 5},
            {5, 10},
            {10, 6},
            {1, 3},
            {10, 2}
        };
        int sales2[] = {5, 6, 5, 3, 4};
        int links2[][] = {{2,3}, {1,4}, {2,5}, {1,2}};

        int sales3[] ={5, 6, 5, 1, 4};
        int links3[][] = {{2,3}, {1,4}, {2,5}, {1,2}};

        int sales4[] ={10, 10, 1, 1};
        int links4[][] = {{3, 2}, {4, 3}, {1, 4}};
        System.out.println(solution(sales, links));
        System.out.println(solution(sales2, links2));
        System.out.println(solution(sales3, links3));
        System.out.println(solution(sales4, links4));
    }
}
```

</details>

## â­ï¸ëŠë‚€ì â­ï¸

<hr/>
> ë§ˆì§€ë§‰ ë¬¸ì œëŠ” Tree DP ìœ í˜• ì´ì—ˆë‹¤. ì²˜ìŒ í’€ì–´ë´¤ëŠ”ë° í•œì°¸ ê³ ë¯¼í•˜ë‹¤ê°€ í’€ì—ˆì§€ë§Œ í‹€ë¦¬ê³  ë‹µì•ˆì„ ë´¤ë‹¤.
>
> ë‹µì•ˆì„ ë´ë„ í•œì°¸ë™ì•ˆ ì´í•´ê°€ ì•ˆë˜ì„œ ê³ ìƒì¢€ í–ˆë‹¤..

## í’€ì´ ğŸ“£

<hr/>

1ï¸âƒ£ ê° ë£¨íŠ¸ ë…¸ë“œë³„ë¡œ ìì‹ ë…¸ë“œë“¤ì„ ë¦¬ìŠ¤íŠ¸ ë°°ì—´ì„ í†µí•´ ì €ì¥í•œë‹¤.

2ï¸âƒ£ Tree DP ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬ ë¬¸ì œì— ëŒ€í•œ ì„¤ê³„ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ í•œë‹¤.

    - cache[i][0] : i ë²ˆ ë…¸ë“œê°€ ë£¨íŠ¸ì¸ ì„œë¸ŒíŠ¸ë¦¬ì—ì„œ ì¡°ê±´ì„ ë§Œì¡±í–ˆì„ ë•Œ ë§¤ì¶œí•©ì˜ ìµœì†Œ, ië²ˆì€ ì°¸ì„

    - ë¨¼ì € i ë²ˆ ë…¸ë“œì˜ ë¹„ìš©ì„ ë”í•´ë†“ëŠ”ë‹¤. ê·¸ëŸ¬ë©´ ië²ˆì´ íŒ€ì¥ì¸ ì„œë¸Œ íŠ¸ë¦¬ì—ì„œ ìì‹ ë…¸ë“œë“¤ì€ ì„ íƒí•˜ë“  ì„ íƒí•˜ì§€ ì•Šë“  ìƒê´€ì´ ì—†ìœ¼ë¯€ë¡œ ê·¸ ì¤‘ ë” ì‘ì€ ê°’ì„ ë”í•´ì£¼ë©´ ëœë‹¤.
         -> cache[i][0] += Math.min(cache[ci][0], cache[ci][1])

    - cache[i][1] : i ë²ˆ ë…¸ë“œê°€ ë£¨íŠ¸ì¸ ì„œë¸ŒíŠ¸ë¦¬ì—ì„œ ì¡°ê±´ì„ ë§Œì¡±í–ˆì„ ë•Œ ë§¤ì¶œí•©ì˜ ìµœì†Œ, ië²ˆì€ ë¶ˆì°¸ì„

    - ë”°ë¼ì„œ cache[i][1] ì„ ê³„ì‚°í•  ë• ìì‹ ë…¸ë“œì¤‘ ëˆ„êµ°ê°€ëŠ” ë°˜ë“œì‹œ ì°¸ì„í•´ì•¼í•¨.

    - ìì‹ ë…¸ë“œ ì¤‘ ì°¸ì„í–ˆì„ ë•Œì˜ ì†í•´(ìì‹ ë…¸ë“œê°€ ë£¨íŠ¸ì¸ ì„œë¸ŒíŠ¸ë¦¬ì—ì„œ ë£¨íŠ¸ê°€ ì°¸ì„í•˜ì˜€ì„ ë•Œì˜ ìµœì†Œ ë¹„ìš© - ë£¨íŠ¸ê°€ ì°¸ì„í•˜ì§€ ì•Šì•˜ì„ ë•Œì˜ ìµœì†Œ ë¹„ìš©) ê°€ ê°€ì¥ ì ì€ ì‚¬ëŒì´ ì°¸ì„í•˜ë©´ ë¨.

3ï¸âƒ£ `cache[i][0]` ì„ êµ¬í•  ë•Œ, ë§Œì•½ ìì‹ ë…¸ë“œë¥¼ ì„ íƒí•˜ëŠ” ê²½ìš°ê°€ ì„ íƒí•˜ì§€ ì•ŠëŠ” ê²½ìš°ë³´ë‹¤ ë” ìµœì†Œë¹„ìš©ì´ì–´ì„œ ìì‹ ë…¸ë“œë¥¼ í•˜ë‚˜ë¼ë„ ì„ íƒí–ˆì—ˆë‹¤ë©´ ì†í•´ê°’ì—ëŠ” ìŒìˆ˜ê°€ ì €ì¥ëœë‹¤.

    - cache[ci][0] ê°’ì´ cache[ci][1] ë³´ë‹¤ ì‘ì•„ì„œ ì†í•´ê°’ minGap ì—ëŠ” ìŒìˆ˜ê°’ì´ ì €ì¥ëœë‹¤.

    - í•˜ì§€ë§Œ cache[i][0] ì— ìì‹ì´ í•˜ë‚˜ë„ í¬í•¨ë˜ì–´ìˆì§€ ì•Šì•˜ë‹¤ë©´ cache[ci][0] ì´ cache[ci][1] ë³´ë‹¤ ë¹„ìš©ì´ ì ì€ ê²½ìš°ê°€ ì—†ì—ˆë‹¤ëŠ” ë§ì´ ë˜ë¯€ë¡œ
      mingap = cache[ci][0] - cache[ci][1] ì—ì„œ ì–‘ìˆ˜ê°€ ì €ì¥ëœë‹¤.

4ï¸âƒ£ ì´í›„ì— `cache[i][1]` ì„ êµ¬í•  ë•Œ, ìì‹ë…¸ë“œê°€ ë°˜ë“œì‹œ í•˜ë‚˜ëŠ” í¬í•¨ë˜ì–´ ìˆì–´ì•¼í•œë‹¤.

    - ië²ˆ ë…¸ë“œë¥¼ í¬í•¨ì‹œí‚¤ì§€ ì•Šì€ ìµœì†Œë¹„ìš©ì„ êµ¬í•œë‹¤ => cache[i][0] - sale[i]

    - cache[i][0]ì„ êµ¬í•  ë•Œ ìì‹ë…¸ë“œë¥¼ ì„ íƒí–ˆì—ˆë‹¤ë©´ cache[i][0] - sale[i] ì— ië²ˆ ë¹„ìš©ë§Œ ì œì™¸ì‹œì¼œì¤¬ìœ¼ë¯€ë¡œ ì´ë¯¸ ìì‹ì´ í¬í•¨ëœ ê°’ì´ ë“¤ì–´ìˆë‹¤.
      ë”°ë¼ì„œ ì´ë¯¸ ì†í•´ê°’(mingap) ì´ min ë¹„êµë¡œ 0ì´ ë˜ì—ˆê¸° ë•Œë¬¸ì— mingap ë§Œí¼ ë”í•´ì¤„ í•„ìš”ê°€ ì—†ë‹¤.

    - mingap : ìì‹ë“¤ì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ë¹„ìš© ì¤‘ ê°€ì¥ ì €ë ´í•œ ë¹„ìš©ì˜ ìì‹ í•œëª… ì¹˜ ë¹„ìš©

5ï¸âƒ£ `cache[1][0]` ê³¼ `cache[1][1]` ì¤‘ ìµœì†Œ ë¹„ìš©ì„ ì¶œë ¥í•œë‹¤.

<hr/>

## ì‹¤ìˆ˜ ğŸ˜…

- íŠ¸ë¦¬ DP.. ì‰½ì§€ ì•Šì€ ë…€ì„ì´ì—ˆë‹¤.

- í’€ì´ë¥¼ 3ê°œë‚˜ ì°¾ì•„ë³´ë©´ì„œ ì™œ ì €ë ‡ê²Œ ì½”ë“œê°€ ì „ê°œë˜ëŠ”ì§€ ì´í•´í•˜ë ¤ê³  ì• ë¥¼ ì¼ë‹¤.

- ê²°êµ­ ì´í•´ë¥¼ í•  ìˆ˜ ìˆì—ˆê³  ì´í•´í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´ì„œë„ ëª‡ ë²ˆì´ë‚˜ ê³„ì† ì´í•´ê°€ ì•ˆë˜ëŠ” ë¶€ë¶„ì´ ìƒê²¼ê³  ë‹¤ì‹œ í•´ê²°í•˜ê³  ë°˜ë³µí•˜ì˜€ë‹¤.
